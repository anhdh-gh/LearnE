--
-- PostgreSQL database dump
--

-- Dumped from database version 14.6 (Ubuntu 14.6-1.pgdg20.04+1)
-- Dumped by pg_dump version 15.0

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

DROP DATABASE IF EXISTS d595gh195uo74p;
--
-- Name: d595gh195uo74p; Type: DATABASE; Schema: -; Owner: -
--

CREATE DATABASE d595gh195uo74p WITH TEMPLATE = template0 ENCODING = 'UTF8' LOCALE_PROVIDER = libc LOCALE = 'en_US.UTF-8';


\connect d595gh195uo74p

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: d595gh195uo74p; Type: DATABASE PROPERTIES; Schema: -; Owner: -
--

ALTER DATABASE d595gh195uo74p SET search_path TO '$user', 'public', 'heroku_ext';


\connect d595gh195uo74p

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: heroku_ext; Type: SCHEMA; Schema: -; Owner: -
--

CREATE SCHEMA heroku_ext;


--
-- Name: public; Type: SCHEMA; Schema: -; Owner: -
--

-- *not* creating schema, since initdb creates it


SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: chapter; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.chapter (
    id bigint NOT NULL,
    courseid character varying(255) NOT NULL,
    name character varying(255) NOT NULL,
    createtime timestamp(6) without time zone,
    updatetime timestamp(6) without time zone
);


--
-- Name: chapter_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.chapter_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: chapter_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.chapter_id_seq OWNED BY public.chapter.id;


--
-- Name: course; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.course (
    id character varying(255) NOT NULL,
    name character varying(255) NOT NULL,
    description text,
    author character varying(255),
    image character varying(1000),
    level character varying(255),
    price character varying(255),
    createtime timestamp(6) without time zone,
    updatetime timestamp(6) without time zone
);


--
-- Name: lesson; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.lesson (
    id bigint NOT NULL,
    chapterid bigint NOT NULL,
    name character varying(255) NOT NULL,
    duration character varying(255) NOT NULL,
    description text,
    video character varying(1000) NOT NULL,
    createtime timestamp(6) without time zone,
    updatetime timestamp(6) without time zone
);


--
-- Name: lesson_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.lesson_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: lesson_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.lesson_id_seq OWNED BY public.lesson.id;


--
-- Name: lessonexercise; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.lessonexercise (
    id bigint NOT NULL,
    lessonid bigint NOT NULL,
    referenceid character varying(255) NOT NULL,
    provider character varying(255),
    createtime timestamp(6) without time zone,
    updatetime timestamp(6) without time zone
);


--
-- Name: lessonexercise_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.lessonexercise_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: lessonexercise_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.lessonexercise_id_seq OWNED BY public.lessonexercise.id;


--
-- Name: lessonstatus; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.lessonstatus (
    id character varying(255) NOT NULL,
    lessonid bigint NOT NULL,
    userid character varying(255) NOT NULL,
    status character varying(255) NOT NULL,
    createtime timestamp(6) without time zone,
    updatetime timestamp(6) without time zone
);


--
-- Name: requirement; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.requirement (
    id character varying(255) NOT NULL,
    courseid character varying(255) NOT NULL,
    text text NOT NULL,
    createtime timestamp(6) without time zone,
    updatetime timestamp(6) without time zone
);


--
-- Name: target; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.target (
    id character varying(255) NOT NULL,
    courseid character varying(255) NOT NULL,
    text text NOT NULL,
    createtime timestamp(6) without time zone,
    updatetime timestamp(6) without time zone
);


--
-- Name: chapter id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.chapter ALTER COLUMN id SET DEFAULT nextval('public.chapter_id_seq'::regclass);


--
-- Name: lesson id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.lesson ALTER COLUMN id SET DEFAULT nextval('public.lesson_id_seq'::regclass);


--
-- Name: lessonexercise id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.lessonexercise ALTER COLUMN id SET DEFAULT nextval('public.lessonexercise_id_seq'::regclass);


--
-- Name: chapter chapter_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.chapter
    ADD CONSTRAINT chapter_pkey PRIMARY KEY (id);


--
-- Name: course course_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.course
    ADD CONSTRAINT course_pkey PRIMARY KEY (id);


--
-- Name: lesson lesson_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.lesson
    ADD CONSTRAINT lesson_pkey PRIMARY KEY (id);


--
-- Name: lessonexercise lessonexercise_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.lessonexercise
    ADD CONSTRAINT lessonexercise_pkey PRIMARY KEY (id);


--
-- Name: lessonstatus lessonstatus_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.lessonstatus
    ADD CONSTRAINT lessonstatus_pkey PRIMARY KEY (id);


--
-- Name: requirement request_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.requirement
    ADD CONSTRAINT request_pkey PRIMARY KEY (id);


--
-- Name: target target_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.target
    ADD CONSTRAINT target_pkey PRIMARY KEY (id);


--
-- Name: chapter fkchapter746961; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.chapter
    ADD CONSTRAINT fkchapter746961 FOREIGN KEY (courseid) REFERENCES public.course(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: lesson fklesson123481; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.lesson
    ADD CONSTRAINT fklesson123481 FOREIGN KEY (chapterid) REFERENCES public.chapter(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: lessonexercise fklessonexer910564; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.lessonexercise
    ADD CONSTRAINT fklessonexer910564 FOREIGN KEY (lessonid) REFERENCES public.lesson(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: lessonstatus fklessonstat434395; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.lessonstatus
    ADD CONSTRAINT fklessonstat434395 FOREIGN KEY (lessonid) REFERENCES public.lesson(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: requirement fkrequest930580; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.requirement
    ADD CONSTRAINT fkrequest930580 FOREIGN KEY (courseid) REFERENCES public.course(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: target fktarget487279; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.target
    ADD CONSTRAINT fktarget487279 FOREIGN KEY (courseid) REFERENCES public.course(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: DATABASE d595gh195uo74p; Type: ACL; Schema: -; Owner: -
--

REVOKE CONNECT,TEMPORARY ON DATABASE d595gh195uo74p FROM PUBLIC;


--
-- Name: SCHEMA heroku_ext; Type: ACL; Schema: -; Owner: -
--

GRANT USAGE ON SCHEMA heroku_ext TO smulgjknowzfdc;


--
-- Name: SCHEMA public; Type: ACL; Schema: -; Owner: -
--

REVOKE USAGE ON SCHEMA public FROM PUBLIC;
GRANT ALL ON SCHEMA public TO PUBLIC;


--
-- Name: LANGUAGE plpgsql; Type: ACL; Schema: -; Owner: -
--

GRANT ALL ON LANGUAGE plpgsql TO smulgjknowzfdc;


--
-- PostgreSQL database dump complete
--

